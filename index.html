<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <title>Nano ID Collision Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css" />
    <!--[if lt IE 9]>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.ie.min.css" />
    <![endif]-->
    <style>
      .github-fork-ribbon:before {
        background-color: #090;
      }
    </style>
  <style>.App{font-family:Helvetica,Arial,sans-serif;width:80%;min-width:300px;max-width:800px;margin:30px auto}.App-title{font-size:34px}.App-intro{font-size:16px;line-height:22px}.App a{color:#0c79e8}.Form{padding:15px;background:-webkit-gradient(linear,left top,left bottom,from(#e0f5fc),color-stop(40%,#e0f5fc),to(#fff));background:linear-gradient(180deg,#e0f5fc 0,#e0f5fc 40%,#fff)}.Form-label{display:block;margin-bottom:15px;line-height:1.7em}.Form-input{font-size:16px;padding:7px;border:1px solid #ccc}.Form-alphabet{font-family:monospace,monospace;width:90%}.Form-size{width:50px}.Form-size,.Form-speed{text-align:right;margin-left:5px}.Form-speed{width:70px}.Form-error{color:coral;margin-bottom:15px}.Result{padding:15px;font-size:24px;line-height:40px}.Result strong{font-size:34px}.Example{margin-top:30px}.Example-code{font-family:monospace,monospace;font-size:1em;background-color:#fdf6e3;display:block;overflow-x:auto;width:100%;padding:15px;white-space:nowrap}.hl-op{color:#859900}.hl-func{color:#268bd2}.hl-comment{color:#93a1a1}.hl-keyword{font-weight:700}.hl-str{color:#2aa198}.hl-num{color:#d33682}.Footer{margin-top:30px;font-size:16px}.Footer-more-list{padding-left:30px;line-height:22px}.Footer-credits{margin-top:50px}
</style></head>
  <body>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>
    <a class="github-fork-ribbon" href="https://github.com/Alex7Kom/nano-nanoid-cc" title="Fork me on GitHub">Fork me on GitHub</a>
    <div id="root">
      <div class="App">
        <header class="App-header">
          <h1 class="App-title">
            <a href="https://github.com/ai/nanoid">Nano ID</a> Collision Calculator</h1>
        </header>
        <div class="App-intro">
          <p>Nano ID is a unique string ID generator for JavaScript and
            <a href="https://github.com/ai/nanoid#other-programming-languages">other languages</a>.</p>
          <p>As any other ID generator Nano ID has a probability of generating the same ID twice, i.e. producing a collision.</p>
          <p>The purpose of this calculator is to find ID length for chosen alphabet safe enough to avoid collisions.</p>
        </div>
        <div class="Form">
          <label for="Form-alphabet" class="Form-label">Alphabet:
            <br>
            <textarea class="Form-input Form-alphabet" id="Form-alphabet" type="text"></textarea>
          </label>
          <div class="Form-error" id="Form-error-alphabet"></div>
          <label for="Form-size" class="Form-label">The length of ID:
            <input class="Form-input Form-size" id="Form-size" type="number"> symbols</label>
          <div class="Form-error" id="Form-error-size"></div>
          <label for="Form-speed" class="Form-label">The speed of ID generation:
            <input class="Form-input Form-speed" id="Form-speed" type="number"> IDs per
            <select class="Form-input" id="Form-speed-unit">
              <option value="hour">hour</option>
              <option value="second">second</option>
            </select>
          </label>
          <div class="Form-error" id="Form-error-speed"></div>
        </div>
        <div class="Result" id="Result-wrapper">
          <strong id="Result"></strong> of work are needed in order to have a&nbsp;1% probability of at least one collision.</div>
        <div class="Example">
          <h3>Example of this usage</h3>
          <code class="Example-code" id="Example-code"></code>
        </div>
        <div class="Footer">
          <div>
            <h3>Learn more</h3>
            <ul class="Footer-more-list">
              <li>
                <a href="https://en.wikipedia.org/wiki/Birthday_attack">Birthday attack</a>
              </li>
              <li>
                <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions">UUID#Collisions</a>
              </li>
            </ul>
          </div>
          <div class="Footer-credits">
            <p>This calculator is made by
              <a href="https://github.com/Alex7Kom">Alexey Komarov</a>.</p>
          </div>
        </div>
      </div>
    </div>
  <script>!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){"use strict";var r="%[a-f0-9]{2}",o=new RegExp(r,"gi"),i=new RegExp("("+r+")+","gi");function a(e,n){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;n=n||1;var t=e.slice(0,n),r=e.slice(n);return Array.prototype.concat.call([],a(t),a(r))}function u(e){try{return decodeURIComponent(e)}catch(r){for(var n=e.match(o),t=1;t<n.length;t++)n=(e=a(n,t).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(n){return function(e){for(var n={"%FE%FF":"��","%FF%FE":"��"},t=i.exec(e);t;){try{n[t[0]]=decodeURIComponent(t[0])}catch(e){var r=u(t[0]);r!==t[0]&&(n[t[0]]=r)}t=i.exec(e)}n["%C2"]="�";for(var o=Object.keys(n),a=0;a<o.length;a++){var s=o[a];e=e.replace(new RegExp(s,"g"),n[s])}return e}(e)}}},function(e,n,t){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,n){for(var t,a,u=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in t=Object(arguments[s]))o.call(t,c)&&(u[c]=t[c]);if(r){a=r(t);for(var l=0;l<a.length;l++)i.call(t,a[l])&&(u[a[l]]=t[a[l]])}}return u}},function(e,n,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},function(e,n,t){"use strict";e.exports={alphabet:t(9),size:21}},function(e,n,t){"use strict";var r=t(5);t(8);var o=t(3),i=t(10),a=t(12),u=t(13),s=t(14),c=document.getElementById("Form-size"),l=document.getElementById("Form-alphabet"),p=document.getElementById("Form-speed"),f=document.getElementById("Form-speed-unit"),d=document.getElementById("Form-error-size"),h=document.getElementById("Form-error-alphabet"),m=document.getElementById("Form-error-speed"),y=document.getElementById("Result-wrapper"),b=document.getElementById("Result"),g=document.getElementById("Example-code"),v={size:o.size,alphabet:o.alphabet,speed:1e3,speedUnit:"hour"},j=r({onChange:function(e){var n;n=e.search,c.value=n.size||v.size,l.value=n.alphabet||v.alphabet,p.value=n.speed||v.speed,f.value=n.speedUnit||v.speedUnit,x()}}),w=s(x,150);function x(){var e={size:Number(c.value),alphabet:l.value,speed:p.value,speedUnit:f.value};j&&j.reflect({search:e});var n={size:e.size,alphabet:e.alphabet,uniqAlphabet:e.alphabet.split("").reduce((function(e,n){return-1===e.indexOf(n)?e+n:e}),""),speed:"hour"===e.speedUnit?Number(e.speed):60*Number(e.speed)*60,probability:1};!function(e){if(!(y.style.display="none",e.uniqAlphabet.length<2||e.probability<=0||100<e.probability||e.size<2||e.speed<1)){y.style.display="block";var n=u.getRandomBits(e.uniqAlphabet.length,e.size),t=e.probability/100,r=u.getGenerateForCollision(n,t),o=e.speed/3600,i=u.getTimeToCollision(r,o);b.innerHTML=a(i)}}(n),function(e){g.style.display="none",e.uniqAlphabet.length<2||e.size<=1||(g.style.display="block",g.innerHTML=i(e))}(n),function(e){d.innerHTML="",h.innerHTML="",m.innerHTML="",e.uniqAlphabet.length<2&&(h.innerHTML="The alphabet should contain at least 2 <strong>unique</strong> symbols"),256<e.alphabet.length&&(h.innerHTML="An alphabet with than 256 symbols is not secure due to algorithm limitations"),e.alphabet.length!==e.uniqAlphabet.length&&(h.innerHTML="The alphabet should not contain duplicate symbols"),e.size<2&&(d.innerHTML="The length of the ID should be 2 or more"),e.speed<1&&(m.innerHTML="The speed should be 1 or more")}(n)}["input","change"].forEach((function(e){[c,l,p,f].forEach((function(n){n.addEventListener(e,w,!1)}))}))},function(e,n,t){"use strict";var r=t(6);e.exports=function(e){var n=e||{};function t(){n.onChange&&n.onChange(r.getValues())}function o(){n.onNewUrl&&n.onNewUrl(window.location.href)}return window.addEventListener("popstate",t),window.addEventListener("popstate",o),t(),{reflect:function(e){r.reflect(e)&&o()},unmount:function(){window.removeEventListener("popstate",t),window.removeEventListener("popstate",o)}}}},function(e,n,t){"use strict";var r=t(0),o=t(1),i=t(2),a=t(7),u=window.location;function s(){return a.parse(u.search)}e.exports={getValues:function(){return{path:u.pathname.split("/").filter(Boolean).map(r),search:s()}},reflect:function(e){var n,t=function(e){return(null==(n=e.path)?u.pathname:"/"+n.map((function(e){return i(e)+"/"})).join(""))+function(e){if(null==e||0===Object.keys(e).length)return u.search;var n=o({},s(),e);return"?"+a.stringify(n)}(e.search);var n}(e);return t!==u.pathname+u.search&&(n=t,window.history.pushState({},"",n+u.hash),!0)}}},function(e,n,t){"use strict";var r=t(2),o=t(1),i=t(0);function a(e,n){return n.encode?(n.strict?r:encodeURIComponent)(e):e}function u(e){var n=e.indexOf("?");return-1===n?"":e.slice(n+1)}function s(e,n){var t=function(e){var n;switch(e.arrayFormat){case"index":return function(e,t,r){n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===r[e]&&(r[e]={}),r[e][n[1]]=t):r[e]=t};case"bracket":return function(e,t,r){n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=[t]:r[e]=t};default:return function(e,n,t){void 0!==t[e]?t[e]=[].concat(t[e],n):t[e]=n}}}(n=o({arrayFormat:"none"},n)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),o=n.shift(),a=0<n.length?n.join("="):void 0;a=void 0===a?null:i(a),t(i(o),a,r)})),Object.keys(r).sort().reduce((function(e,n){var t=r[n];return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)?e[n]=function e(n){return Array.isArray(n)?n.sort():"object"==typeof n?e(Object.keys(n)).sort((function(e,n){return Number(e)-Number(n)})).map((function(e){return n[e]})):n}(t):e[n]=t,e}),Object.create(null))):r}n.extract=u,n.parse=s,n.stringify=function(e,n){!1===(n=o({encode:!0,strict:!0,arrayFormat:"none"},n)).sort&&(n.sort=function(){});var t=function(e){switch(e.arrayFormat){case"index":return function(n,t,r){return null===t?[a(n,e),"[",r,"]"].join(""):[a(n,e),"[",a(r,e),"]=",a(t,e)].join("")};case"bracket":return function(n,t){return null===t?a(n,e):[a(n,e),"[]=",a(t,e)].join("")};default:return function(n,t){return null===t?a(n,e):[a(n,e),"=",a(t,e)].join("")}}}(n);return e?Object.keys(e).sort(n.sort).map((function(r){var o=e[r];if(void 0===o)return"";if(null===o)return a(r,n);if(Array.isArray(o)){var i=[];return o.slice().forEach((function(e){void 0!==e&&i.push(t(r,e,i.length))})),i.join("&")}return a(r,n)+"="+a(o,n)})).filter((function(e){return 0<e.length})).join("&"):""},n.parseUrl=function(e,n){return{url:e.split("?")[0]||"",query:s(u(e),n)}}},function(e,n,t){},function(e,n){var t;e.exports="_-"+String.fromCharCode(t=48,++t,++t,++t,++t,++t,++t,++t,++t,++t,t+=8,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,t+=7,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t,++t)},function(e,n,t){"use strict";var r=t(11),o=t(3);e.exports=function(e){var n,t=e.size===o.size?"":e.size,i=r(e.alphabet,e.size),a=e.alphabet.replace("\\","\\\\").replace("'","\\'");return n=e.alphabet===o.alphabet?"<keyword>var</> nanoid <op>=</> <func>require</>(<str>'nanoid'</>);<br /><br />model.id = <func>nanoid</>(<num>"+t+"</>);":"<keyword>var</> generate <op>=</> <func>require</>(<str>'nanoid/generate'</>);<br /><keyword>var</> alphabet <op>=</> <str>'"+a+"'</>;<br /><br />model.id = <func>generate</>(alphabet, <num>"+e.size+"</>);",(n+=' <comment>// => "'+i+'"</>').replace(/<(op|func|comment|keyword|str|num)>/g,'<span class="hl-$1">').replace(/<\/>/g,"</span>")}},function(e,n){e.exports=function(e,n){n=n||21;for(var t="";n--;)t+=e[Math.random()*e.length|0];return t}},function(e,n,t){"use strict";var r=[{n:["second","seconds"],m:1},{n:["minute","minutes"],m:60},{n:["hour","hours"],m:60},{n:["day","days"],m:24},{n:["month","months"],m:30.5},{n:["year","years"],m:12},{n:["century","centuries"],m:100},{n:["thousand years","thousands of years"],m:10},{n:["million years","millions of years"],m:1e3},{n:["billion years","billions of years"],m:1e3},{n:["trillion years","trillions of years"],m:1e3},{n:["quadrillion years","quadrillions of years"],m:1e3},{n:["quintillion years","quintillions of years"],m:1e3},{n:["sextillion years","sextillions of years"],m:1e3},{n:["septillion years","septillions of years"],m:1e3},{n:["octillion years","octillions of years"],m:1e3},{n:["nonillion years","nonillions of years"],m:1e3},{n:["decillion years","decillions of years"],m:1e3}];e.exports=function(e){for(var n=e,t=0;t<r.length;t++){var o=r[t];if(n/=o.m,!r[t+1]||n/r[t+1].m<1){var i=Math.round(n);return"~"+i+" "+o.n[1===i?0:1]}}}},function(e,n,t){"use strict";e.exports={getRandomBits:function(e,n){return n*(Math.log(e)/Math.LN2)},getGenerateForCollision:function(e,n){return Math.sqrt(2*Math.pow(2,e)*Math.log(1/(1-n)))},getTimeToCollision:function(e,n){return Math.floor(e/n)}}},function(e,n,t){"use strict";e.exports=function(e,n){var t=null;return function(){var r=this,o=arguments;t=t||setTimeout((function(){t=null,e.apply(r,o)}),n)}}}]);</script></body>
</html>
